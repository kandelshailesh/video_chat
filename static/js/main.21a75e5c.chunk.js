(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(n,e,t){n.exports=t(97)},59:function(n,e,t){},89:function(n,e){},92:function(n,e){function t(n){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=92},97:function(n,e,t){"use strict";t.r(e);var o=t(0),a=t.n(o),r=t(45),c=t.n(r),i=(t(59),t(51)),l=t(1),u=function(n){return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:function(){n.history.push("/video_chat/room/".concat("hello"))}},"Create room"),a.a.createElement("p",null,"Hello how ar evv you"))},s=t(52),f=t(53),m=t(24),h=t(46),d=t.n(h),p=t(47),v=t.n(p),w=t(25);function g(){var n=Object(m.a)(["\n    height: 30%;\n    width: 30%;\n    margin-left: 20px;\n"]);return g=function(){return n},n}function E(){var n=Object(m.a)(["\n    padding: 20px;\n    display: flex;\n    height: 100vh;\n    width: 90%;\n    margin: 20;\n    flex-wrap: wrap;\n"]);return E=function(){return n},n}var b=w.a.div(E()),j=w.a.video(g()),O=function(n){var e=Object(o.useRef)();return Object(o.useEffect)((function(){e.current.srcObject=n.src}),[]),a.a.createElement(j,{playsInline:!0,autoPlay:!0,ref:e})},k=function(n){var e=Object(o.useState)([]),t=Object(f.a)(e,2),r=t[0],c=t[1],i=new v.a(void 0,{host:"https://safe-cliffs-70260.herokuapp.com/",path:"/peerjs"});i.on("error",(function(n){console.log(n)})),i.on("open",(function(n){l.emit("userjoin",n)}));var l=d.a.connect("wss://safe-cliffs-70260.herokuapp.com//");return Object(o.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(t){e(t),l.on("userjoined",(function(e){console.log("UserID is ",e),n(e,t)})),i.on("call",(function(n){console.log("Calling"),n.answer(t),n.on("stream",(function(n){e(n)}))}))}));var n=function(n,t){i.call(n,t).on("stream",(function(n){e(n)}))},e=function(n){c((function(e){return[].concat(Object(s.a)(e),[n])}))}}),[]),a.a.createElement(b,null,r.map((function(n,e){return a.a.createElement(O,{key:e,src:n})})))};var y=function(){return console.log("Hello world"),a.a.createElement(i.a,null,a.a.createElement(l.c,null,a.a.createElement(l.a,{path:"/video_chat/room/:roomID",component:k}),a.a.createElement(l.a,{path:"/video_chat/",exact:!0,component:u})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.21a75e5c.chunk.js.map